{{ form_start(form) }} 
	
<table>
	<tr>
		<td>
			<b>{{ form_label(form.first_name,'First Name') }} </b>
		</td>
		<td>
			{{ form_widget(form.first_name) }}
			<span> 
				<small>
					{{ form_errors(form.first_name) }}					
				</small>
			</span>
		</td>
	</tr>


<tr>
	<td>
		<b>{{ form_label(form.last_name, 'Last Name ') }}</b>
	</td>
	<td>
		{{ form_widget(form.last_name) }}
		<small>
			{{ form_errors(form.last_name) }} 
		</small>
	</td>
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.date_of_birth, 'Date of Birth') }}</b>
	</td>
	<td> 
		{{ form_widget(form.date_of_birth) }}
		<small> 
			{{ form_errors(form.date_of_birth) }} 
		</small> 
	</td>
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.gender, 'Gender') }}</b>
	</td>
	<td> 
		{{ form_widget(form.gender) }}
		<small> 
		 	{{ form_errors(form.gender) }} 
		</small> 
	</td>
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.email_id,'Email Ids') }} </b>
	</td>
	<td>
		<ul id="email-fields-list" data-prototype="{{ form_widget(form.email_id.vars.prototype)|e }}">
		{% for emailField in form.email_id %}
			<li style = 'list-style-type:none'>
				{{ form_widget(emailField) }}
				<small>
					{{ form_errors(emailField) }}
				</small>
			</li>
		{% endfor %}
		</ul> 
	</td>

</tr>

<tr>
	<td> 
		<input type = "button" id = "add-another-email" value = "+" >
		<input type = "button" id = "remove-another-email" value = "-" >	
	</td>	
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.mobile_no,'Mobile Number') }} </b>
	</td>
	<td> 
		<ul id="mobile-fields-list" data-prototype="{{ form_widget(form.mobile_no.vars.prototype)|e }}">
		{% for mobileField in form.mobile_no %}
			<li style = 'list-style-type:none'>
				{{ form_widget(mobileField) }}
				<small> 
					{{ form_errors(mobileField) }} 
				</small>
			</li>
		{% endfor %}
		</ul> 
	</td>
</tr>

<tr>
	<td> 
		<input type = "button" id = "add-another-mobile-no" value = "+" >
		<input type = "button" id = "remove-another-mobile-no" value = "-" >	
	</td>	
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.area_of_interest,'Area of Interest') }} </b>
	</td>
	<td> 
		{{ form_widget(form.area_of_interest) }} 
		<small> 
			{{ form_errors(form.area_of_interest) }} 
		</small>
	</td>
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.bloodgroup, 'Blood Group') }}</b>
	</td>
	<td> 
		{{ form_widget(form.bloodgroup) }} 
		<small> 
			{{ form_errors(form.bloodgroup) }}
		</small> 
	</td>
</tr>

<tr>
	<td> 
		<b>{{ form_label(form.graduation, 'Graduation') }}</b>
	</td>
	<td> 
		{{ form_widget(form.graduation) }} 
		<small> 
			{{ form_errors(form.graduation) }}
		</small> 
	</td>
</tr>

</table>

{{ form_end(form) }}

 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">

    var emailCount = '{{ form.email_id|length }}';
    var mobileCount = '{{ form.mobile_no|length  }}';
    var interestCount = '{{ form.area_of_interest|length  }}';
   	var ss = document.getElementById('email-fields-list');
   	
    $(document).ready(function() {
        $('#add-another-email').click(function(e) {
            e.preventDefault();
            var emailList = $('#email-fields-list');
            console.log(emailList);

            var newWidget = emailList.attr('data-prototype');
            console.log(newWidget);
           
            newWidget = newWidget.replace(/__name__/g, emailCount);
            emailCount++;
            console.log(newWidget);

            var new_id = $("ul:last-child")
            console.log(new_id);

            var newLi = $('<li style= "list-style-type:none"></li>').html(newWidget);
            newLi.appendTo(emailList);
        });

    $('#add-another-mobile-no').click(function(e) {
        e.preventDefault();

        var mobileList = $('#mobile-fields-list');
        console.log(mobileList);

        var newWidget = mobileList.attr('data-prototype');
       
        newWidget = newWidget.replace(/__name__/g, mobileCount);
        mobileCount++;

        var newLi = $('<li style= "list-style-type:none"></li>').html(newWidget);
        newLi.appendTo(mobileList);
    });

    $('#remove-another-mobile-no').click(function(e) {
        e.preventDefault();

        var mobileList = $('#mobile-fields-list');
       alert(mobileList.val());
        var newWidget = mobileList.attr('data-prototype');
        console.log(newWidget);

        newWidget = newWidget.replace(/__name__/g, mobileCount);
        console.log(newWidget);

        mobileCount++;
        console.log(mobileCount);

    });

    })
</script>