{{ form_start(form) }} 

	
	<table>
	    <tr>
	    <td>{{ form_label(form.first_name,'First Name') }} </td>
	    <td>{{ form_widget(form.first_name) }}</td>
	    <td>{{ form_errors(form.first_name) }}</td>
	</tr>
	

	<tr>
	    <td>{{ form_label(form.last_name, 'Last Name ') }}</td>
	    <td>{{ form_widget(form.last_name) }}</td>
	    <td>{{ form_errors(form.last_name) }}</td>
	</tr>

	<tr>
	   <td> {{ form_label(form.date_of_birth, 'Date of Birth') }}</td>
	   <td> {{ form_widget(form.date_of_birth) }}</td>
	   <td> {{ form_errors(form.date_of_birth) }}</td>
	   <td>{#{form.date_of_birth.vars.label}#}</td>
	</tr>

	<tr>
	   <td> {{ form_label(form.gender, 'Gender') }}</td>
	   <td> {{ form_widget(form.gender) }}</td>
	   <td> {{ form_errors(form.gender) }}</td>
	   <td> {#{form.gender.vars.label}#}</td>
	</tr>

	<tr>
		<td> {{ form_label(form.email_id,'Email Ids') }} </td>
		<td>
			<ul id="email-fields-list" data-prototype="{{ form_widget(form.email_id.vars.prototype)|e }}">
			{% for emailField in form.email_id %}
			    <li style = 'list-style-type:none'>
			        {{ form_widget(emailField) }}
			        {{ form_errors(emailField) }}
			    </li>
			{% endfor %}
			</ul> 
		</td>
		<td>{{ form_errors(form.email_id) }}</td>
	</tr>
	<tr>
		<td> 
			<input type = "button" id = "add-another-email" value = "+" >
			<input type = "button" id = "remove-another-email" value = "-" >	
		</td>	

    </tr>

    <tr>
		<td> {{ form_label(form.mobile_no,'Mobile Number') }} </td>
		<td> 
			<ul id="mobile-fields-list" data-prototype="{{ form_widget(form.mobile_no.vars.prototype)|e }}">

			{% for mobileField in form.mobile_no %}
			    <li style = 'list-style-type:none'>
			        {{ form_widget(mobileField) }}
			        {{ form_errors(mobileField) }}
			    </li>
			{% endfor %}
			</ul> 
		</td>
		<td> {{ form_errors(form.mobile_no) }} </td>

		<tr>
		<td> 
			<input type = "button" id = "add-another-mobile-no" value = "+" >
			 <input type = "button" id = "remove-another-mobile-no" value = "-" >	
		</td>	
     <tr>
	   <td> {{ form_label(form.area_of_interest,'Area of Interest') }} </td>
	   <td> {{ form_widget(form.area_of_interest) }} </td>
	   <td> </td>
	   <td> {{ form_errors(form.area_of_interest) }} </td>
	   <td> {#{ form.area_of_interest.vars.label }#} </td>
	</tr>

    <tr>
	   <td> {{ form_label(form.bloodgroup, 'Blood Group') }}</td>
	   <td> {{ form_widget(form.bloodgroup) }} </td>
	   <td> {{ form_errors(form.bloodgroup) }} </td>
	   <td> {#{form.bloodgroup.vars.label}#} </td>
	</tr>
	</table>

{{ form_end(form) }}

 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">

    var emailCount = '{{ form.email_id|length }}';
    var mobileCount = '{{ form.mobile_no|length  }}';
    var interestCount = '{{ form.area_of_interest|length  }}';


    $(document).ready(function() {
        $('#add-another-email').click(function(e) {
            e.preventDefault();

            var emailList = $('#email-fields-list');
            console.log(emailList);

            var newWidget = emailList.attr('data-prototype');
            console.log(newWidget);
           
            newWidget = newWidget.replace(/__name__/g, emailCount);
            emailCount++;
            console.log(newWidget);

            var new_id = $("ul:last-child")
            console.log(new_id);

            var newLi = $('<li style= "list-style-type:none"></li>').html(newWidget);
            newLi.appendTo(emailList);
        });

        $('#add-another-mobile-no').click(function(e) {
            e.preventDefault();

            var mobileList = $('#mobile-fields-list');
            console.log(mobileList);

            var newWidget = mobileList.attr('data-prototype');
           
            newWidget = newWidget.replace(/__name__/g, mobileCount);
            mobileCount++;

            var newLi = $('<li style= "list-style-type:none"></li>').html(newWidget);
            newLi.appendTo(mobileList);
        });

        $('#remove-another-mobile-no').click(function(e) {
            e.preventDefault();

            var mobileList = $('#mobile-fields-list');
           alert(mobileList.val());
            var newWidget = mobileList.attr('data-prototype');
            console.log(newWidget);

            newWidget = newWidget.replace(/__name__/g, mobileCount);
            console.log(newWidget);

            mobileCount++;
            console.log(mobileCount);

        });

    })
</script>